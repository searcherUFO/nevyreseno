<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MAISON DU LYS | Collection Produits</title>

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/fav-icon/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="./assets/fav-icon/favicon-16x16.png" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet" />

  <style>
    :root{
      --primary-gold:#976F3B;
      --light-gold:#c9a86c;
      --bg-cream:#faf8f5;
      --text-dark:#2c2c2c;
      --shadow-soft:0 10px 40px rgba(0,0,0,0.08);
      --shadow-hover:0 20px 60px rgba(151,111,59,0.15);
      --transition-smooth: all 0.4s cubic-bezier(0.4,0,0.2,1);
    }

    *{margin:0;padding:0;box-sizing:border-box;user-select:none;-webkit-touch-callout:none;}

    body{
      margin:0;
      font-family:'Libre Baskerville', serif;
      background:var(--bg-cream);
      color:var(--text-dark);
      overflow-y:auto;
      height:100vh;
    }

    img{pointer-events:none;user-drag:none;}

    /* ===== CUSTOM CURSOR ===== */
    .custom-cursor{
      position:fixed;
      width:120px;
      height:120px;
      border-radius:50%;
      background:rgba(151,111,59,0.95);
      display:flex;
      align-items:center;
      justify-content:center;
      pointer-events:none;
      z-index:9999;
      opacity:0;
      transform:scale(0);
      transition:opacity 0.3s ease, transform 0.3s ease;
      box-shadow:0 10px 40px rgba(151,111,59,0.3);
    }
    .custom-cursor.visible{
      opacity:1;
      transform:scale(1);
    }
    .cursor-text{
      color:#fff;
      font-family:'QuinoaSC-Semibold', serif;
      font-size:11px;
      text-align:center;
      line-height:1.5;
      pointer-events:none;
    }

    /* ===== LAYOUT ===== */
    .brand-center-content-wrapper{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;width:100%;padding:40px 0 60px;position:relative;}
    .catalog-progress-container{width:100%;max-width:800px;margin:0 auto 50px;padding:0 20px;}
    .catalog-progress-bar{width:100%;height:4px;background:rgba(151,111,59,0.15);border-radius:2px;overflow:hidden;}
    .catalog-progress-fill{height:100%;background:linear-gradient(90deg,var(--primary-gold),var(--light-gold));border-radius:2px;transition:width 0.3s ease;width:0%;}
    .catalog-progress-labels{display:flex;justify-content:space-between;margin-top:15px;font-family:'QuinoaSC-Semibold', serif;font-size:12px;letter-spacing:2px;text-transform:uppercase;color:rgba(151,111,59,0.5);}
    .catalog-progress-labels span.active{color:var(--primary-gold);}
    .slider{width:100%;overflow:hidden;position:relative;padding:30px 0 60px;cursor:default;}
    .slider-wrapper{display:flex;gap:1800px;padding:20px 100px 20px 800px;transition:transform 0.6s cubic-bezier(0.4,0,0.2,1);align-items:center;}
    .slide{flex:0 0 auto;width:380px;max-height:70vh;border-radius:8px;background:#fff;box-shadow:var(--shadow-soft);transition:var(--transition-smooth);display:flex;align-items:center;justify-content:center;}
    .slide:hover{transform:translateY(-10px) scale(1.02);box-shadow:var(--shadow-hover);}
    .slide img{width:300%;height:auto;max-height:70vh;object-fit:contain;transition:transform 0.6s ease;}
    .slide:hover img{transform:scale(1.03);}
@media (max-width:991px){
  .slide {
    width: 320px;
    max-height: 65vh;
  }
  .slide img {
    width: 100%;       /* obrázek zabere celý slide */
    max-width: 100%;   /* nepřesahuje slide */
    height: auto;      /* zachovává poměr stran */
    object-fit: contain;
  }
  .slider-wrapper {
    gap: 50px;
    padding: 20px 60px;
  }
  .catalog-progress-labels {
    font-size: 10px;
  }
  .custom-cursor { display: none; }
}

@media (max-width:576px){
  .slide {
    width: 280px;
    max-height: 60vh;
  }
  .slide img {
    width: 100%;
    max-width: 100%;
    height: auto;
    object-fit: contain;
  }
  .slider-wrapper {
    gap: 30px;
    padding: 20px 40px;
  }
  .catalog-progress-labels { font-size: 9px; }
}
  </style>
</head>
<body>

  <!-- Custom Cursor -->
  <div class="custom-cursor" id="custom-cursor">
    <p class="cursor-text">Défilez pour<br/>explorer</p>
  </div>

  <div class="brand-center-content-wrapper">
    <!-- TOP PROGRESS BAR -->
    <div class="catalog-progress-container">
      <div class="catalog-progress-bar"><div class="catalog-progress-fill" id="progress-fill"></div></div>
      <div class="catalog-progress-labels">
        <span id="label-parfums">Parfums</span>
        <span id="label-soins">Soins</span>
        <span id="label-accessoires">Accessoires</span>
        <span id="label-coffrets">Coffrets</span>
      </div>
    </div>

    <!-- Product Slider -->
    <div class="slider" id="product-slider">
      <div class="slider-wrapper" id="slider-track"></div>
    </div>
  </div>

  <script>
    const productImages = Array.from({length:119},(_,i)=>({num:i+1}));
    const sliderTrack=document.getElementById('slider-track');
productImages.forEach((img, index)=>{
  const slide=document.createElement('div');
  slide.className='slide';
  slide.innerHTML=`<img src="./assets/images/Products Slider/Maison lys${img.num}.png" 
                      loading="${index<119 ? 'eager' : 'lazy'}" 
                      alt="Maison lys ${img.num}"/>`;
  sliderTrack.appendChild(slide);
});


    let currentSlide=0;
    const totalSlides=productImages.length;
    let isScrolling=false;
    let scrollTimeout;
    const scrollDelta = 0.05; // nižší citlivost
    const scrollThreshold = 1; // větší prahová hodnota

    function updateSlider(){
      const slide=document.querySelector('.slide');
      const gap=parseInt(getComputedStyle(sliderTrack).gap);
      const slideWidth=slide.offsetWidth+gap;
      sliderTrack.style.transform=`translateX(${-currentSlide*slideWidth}px)`;
      updateProgressBar();
    }

    function updateProgressBar(){
      const progress=((currentSlide+1)/totalSlides)*100;
      document.getElementById('progress-fill').style.width=progress+'%';
      const perSection=totalSlides/4;
      document.querySelectorAll('.catalog-progress-labels span').forEach(el=>el.classList.remove('active'));
      if(currentSlide<perSection) document.getElementById('label-parfums').classList.add('active');
      else if(currentSlide<perSection*2) document.getElementById('label-soins').classList.add('active');
      else if(currentSlide<perSection*3) document.getElementById('label-accessoires').classList.add('active');
      else document.getElementById('label-coffrets').classList.add('active');
    }

    function scrollToSlide(index){
      currentSlide=Math.max(0,Math.min(index,totalSlides-1));
      updateSlider();
    }

    const slider=document.getElementById('product-slider');

let scrollPos = 0; // aktuální pozice scrollu slideru
const slide = document.querySelector('.slide');
const gap = parseInt(getComputedStyle(sliderTrack).gap);
const slideWidth = slide.offsetWidth + gap;
const maxScroll = (totalSlides - 1) * slideWidth;

window.addEventListener('wheel', e => {
  const rect = slider.getBoundingClientRect();
  if(rect.top > window.innerHeight || rect.bottom < 0) return;

  e.preventDefault();

  scrollPos += e.deltaY; // plynulý posun
  // omezíme, aby se nepřejety na začátek nebo konec
  scrollPos = Math.max(0, Math.min(scrollPos, maxScroll));

  // aplikace transformace
  sliderTrack.style.transform = `translateX(${-scrollPos}px)`;

  // update "currentSlide" pro progress bar
  currentSlide = Math.round(scrollPos / slideWidth);
  updateProgressBar();
}, {passive: false});

    // Keyboard arrows
    document.addEventListener('keydown', e=>{
      if(e.key==='ArrowRight'){ e.preventDefault(); e.stopPropagation(); scrollToSlide(currentSlide+1);}
      if(e.key==='ArrowLeft'){ e.preventDefault(); e.stopPropagation(); scrollToSlide(currentSlide-1);}
    });

    // Drag
    let isDragging=false,startX,startSlide;
    sliderTrack.addEventListener('mousedown',e=>{isDragging=true;startX=e.pageX;startSlide=currentSlide;});
    document.addEventListener('mousemove',e=>{if(!isDragging)return;e.preventDefault();scrollToSlide(Math.round(startSlide+(startX-e.pageX)/460));});
    document.addEventListener('mouseup',()=>isDragging=false);

    // Touch
    let touchStartX=0;
    slider.addEventListener('touchstart',e=>{touchStartX=e.changedTouches[0].screenX;},{passive:true});
    slider.addEventListener('touchend',e=>{const diff=touchStartX-e.changedTouches[0].screenX;if(diff>50)scrollToSlide(currentSlide+1);else if(diff<-50)scrollToSlide(currentSlide-1);},{passive:true});

    // Custom cursor
    const cursor=document.getElementById('custom-cursor');
    document.addEventListener('mousemove', e=>{
      cursor.style.left=e.clientX-cursor.offsetWidth/2+'px';
      cursor.style.top=e.clientY-cursor.offsetHeight/2+'px';
    });
    slider.addEventListener('mouseenter',()=>cursor.classList.add('visible'));
    slider.addEventListener('mouseleave',()=>cursor.classList.remove('visible'));

    // Prevent selection/context menu
    document.addEventListener('selectstart',e=>e.preventDefault());
    document.addEventListener('contextmenu',e=>e.preventDefault());

    document.addEventListener('DOMContentLoaded',()=>updateSlider());
</script>

</body>
</html>